{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Google Drive\\\\awesome-react-student\\\\3week\\\\class\\\\src\\\\container\\\\Search.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\";\nimport ContentList from \"../component/contentList\";\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Search, _Component);\n\n  function Search() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Search);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Search)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      contents: [],\n      keyword: \"\"\n    };\n\n    _this.handleInputChange = function (e) {\n      _this.setState({\n        keyword: e.target.value\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      _this.fetchSearch(_this.state.keyword);\n\n      e.preventDefault();\n    };\n\n    _this.setContents = function (data) {\n      var list = [];\n      data.items.forEach(function (item) {\n        if (item.id.videoId) {\n          list.push({\n            id: item.id.videoId,\n            name: item.snippet.title\n          });\n        }\n      });\n      return list;\n    };\n\n    return _this;\n  }\n\n  _createClass(Search, [{\n    key: \"fetchSearch\",\n    value: function () {\n      var _fetchSearch = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(keyword) {\n        var maxResults, token, _ref, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                maxResults = 30;\n                token = \"\";\n                _context.next = 4;\n                return axios.get(\"https://www.googleapis.com/youtube/v3/search?q=\" + keyword + \"&part=snippet&key=\" + token + \"&maxResults=\" + maxResults);\n\n              case 4:\n                _ref = _context.sent;\n                data = _ref.data;\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function fetchSearch(_x) {\n        return _fetchSearch.apply(this, arguments);\n      }\n\n      return fetchSearch;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      var keyword = this.state.keyword;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"\\uAC80\\uC0C9\"), React.createElement(\"input\", {\n        type: \"text\",\n        onChange: this.handleInputChange,\n        value: keyword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Search;\n}(Component);\n\nexport { Search as default };","map":{"version":3,"sources":["C:\\Google Drive\\awesome-react-student\\3week\\class\\src\\container\\Search.js"],"names":["React","Component","axios","ContentList","Search","state","contents","keyword","handleInputChange","e","setState","target","value","handleSubmit","fetchSearch","preventDefault","setContents","data","list","items","forEach","item","id","videoId","push","name","snippet","title","maxResults","token","get"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;;IAEqBC,M;;;;;;;;;;;;;;;;;UAEjBC,K,GAAQ;AACJC,MAAAA,QAAQ,EAAE,EADN;AAEJC,MAAAA,OAAO,EAAE;AAFL,K;;UAKRC,iB,GAAoB,UAAAC,CAAC,EAAI;AACrB,YAAKC,QAAL,CAAc;AAACH,QAAAA,OAAO,EAAEE,CAAC,CAACE,MAAF,CAASC;AAAnB,OAAd;AACH,K;;UAEDC,Y,GAAe,UAAAJ,CAAC,EAAI;AAChB,YAAKK,WAAL,CAAiB,MAAKT,KAAL,CAAWE,OAA5B;;AACAE,MAAAA,CAAC,CAACM,cAAF;AACH,K;;UAEDC,W,GAAc,UAAAC,IAAI,EAAI;AAClB,UAAIC,IAAI,GAAG,EAAX;AACAD,MAAAA,IAAI,CAACE,KAAL,CAAWC,OAAX,CAAmB,UAAAC,IAAI,EAAI;AACvB,YAAGA,IAAI,CAACC,EAAL,CAAQC,OAAX,EAAoB;AAChBL,UAAAA,IAAI,CAACM,IAAL,CAAU;AAACF,YAAAA,EAAE,EAAED,IAAI,CAACC,EAAL,CAAQC,OAAb;AAAsBE,YAAAA,IAAI,EAAEJ,IAAI,CAACK,OAAL,CAAaC;AAAzC,WAAV;AACH;AACJ,OAJD;AAKA,aAAOT,IAAP;AACH,K;;;;;;;;;;gDAEiBX,O;;;;;;;AACVqB,gBAAAA,U,GAAa,E;AACbC,gBAAAA,K,GAAQ,E;;uBAEK3B,KAAK,CAAC4B,GAAN,CACjB,oDACAvB,OADA,GAEA,oBAFA,GAGAsB,KAHA,GAIA,cAJA,GAKAD,UANiB,C;;;;AAAdX,gBAAAA,I,QAAAA,I;;;;;;;;;;;;;;;;;;6BAUE;AAAA,UACEV,OADF,GACa,KAAKF,KADlB,CACEE,OADF;AAEL,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAM,QAAA,QAAQ,EAAE,KAAKM,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AACI,QAAA,IAAI,EAAC,MADT;AAEI,QAAA,QAAQ,EAAE,KAAKL,iBAFnB;AAGI,QAAA,KAAK,EAAED,OAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,CADJ;AAYH;;;;EAtD+BN,S;;SAAfG,M","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from \"axios\";\r\nimport ContentList from \"../component/contentList\"\r\n\r\nexport default class Search extends Component {\r\n\r\n    state = {\r\n        contents: [],\r\n        keyword: \"\"\r\n    };\r\n\r\n    handleInputChange = e => {\r\n        this.setState({keyword: e.target.value});\r\n    };\r\n\r\n    handleSubmit = e => {\r\n        this.fetchSearch(this.state.keyword);\r\n        e.preventDefault();\r\n    };\r\n\r\n    setContents = data => {\r\n        let list = [];\r\n        data.items.forEach(item => {\r\n            if(item.id.videoId) {\r\n                list.push({id: item.id.videoId, name: item.snippet.title});\r\n            }\r\n        });\r\n        return list;\r\n    }\r\n\r\n    async fetchSearch(keyword) {\r\n        let maxResults = 30;\r\n        let token = \"\";\r\n\r\n    const {data} = await axios.get(\r\n        \"https://www.googleapis.com/youtube/v3/search?q=\" +\r\n        keyword +\r\n        \"&part=snippet&key=\" +\r\n        token +\r\n        \"&maxResults=\" +\r\n        maxResults\r\n    );\r\n    }\r\n\r\n    render() {\r\n        const {keyword} = this.state;\r\n        return (\r\n            <div>\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <label>검색</label>\r\n                    <input \r\n                        type=\"text\" \r\n                        onChange={this.handleInputChange} \r\n                        value={keyword}\r\n                    />\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}